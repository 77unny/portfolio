{"version":3,"sources":["__mock/handlers.ts","__mock/browser.ts","hooks/useRequest.ts","store/cart/selector.ts","store/cart/index.ts","components/cart/item/style.ts","components/cart/item/index.tsx","components/cart/style.ts","components/cart/index.tsx","components/layout/style.ts","components/layout/index.tsx","pages/cart/index.tsx","pages/notFound/index.tsx","components/pagination/style.ts","components/pagination/index.tsx","components/products/product/style.ts","components/products/product/index.tsx","components/products/style.ts","components/products/index.tsx","pages/products/index.tsx","constants/index.ts","routes/index.tsx","App.tsx","store/rootReducer.ts","store/index.ts","store/configureStore.ts","style/index.ts","index.tsx"],"names":["handlers","rest","get","req","res","ctx","status","json","products","coupons","setupWorker","useRequest","request","fallbackData","config","useSWR","JSON","stringify","axios","statusText","headers","data","response","error","isValidating","mutate","getCartState","state","cart","getCheckedCartList","filter","item","checked","initialState","cartSlice","createSlice","name","reducers","setCart","action","some","item_no","payload","map","amount","unshift","removeCart","deleteCart","checkedCart","reset","actions","Container","styled","div","Thumbnail","img","Info","Name","p","Amount","Price","Item","dispatch","useDispatch","item_name","image","detail_image_url","availableCoupon","price","type","onChange","e","target","src","alt","onClick","disabled","icon","faMinus","faPlus","toLocaleString","CartList","CartResult","active","EmptyMessage","CouponList","Select","DiscountCountUp","CountUp","TotalCountUp","Cart","url","useSelector","checkedCartList","useState","setCoupons","selectedCoupons","setSelectedCoupons","totalPrice","setTotalPrice","discountPrice","setDiscountPrice","useEffect","value","discountAmount","discountRate","label","title","possible","impossible","possiblePrice","reduce","acc","obj","impossiblePrice","discount","length","placeholder","option","options","end","duration","prefix","suffix","separator","Header","header","Layout","children","to","CartPage","NotFoundPage","Pagination","setCurrentPage","currentPage","lastPage","page","Array","from","keys","index","prev","faAngleLeft","faAngleRight","CarButtonWrap","Product","storeCart","isCart","cartItemAmount","faShoppingCart","Products","ProductsPage","setProducts","lastPageRef","useRef","current","Math","ceil","sortData","sort","a","b","score","indexOfLast","indexOfFirst","slice","ROUTES","path","component","Routes","element","replace","route","App","rootReducer","combineReducers","store","startKitConfigureStore","reducer","enhancers","StorybookAddonEnhancer","devTools","process","configureStore","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4877133.chunk.js","sourcesContent":["import { rest } from 'msw';\n\nimport coupons from './coupons.json';\nimport products from './products.json';\n\nexport const handlers = [\n  rest.get('/api/products', (req, res, ctx) => {\n    return res(\n      ctx.status(200),\n      ctx.json({\n        products,\n      }),\n    );\n  }),\n  rest.get('/api/coupons', (req, res, ctx) => {\n    return res(\n      ctx.status(200),\n      ctx.json({\n        coupons,\n      }),\n    );\n  }),\n];\n","import { setupWorker } from 'msw';\n\nimport { handlers } from './handlers';\n\nexport const worker = setupWorker(...handlers);\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport useSWR, { SWRConfiguration, SWRResponse } from 'swr';\n\nexport type GetRequest = AxiosRequestConfig | null;\n\ninterface Return<Data, Error>\n  extends Pick<SWRResponse<AxiosResponse<Data>, AxiosError<Error>>, 'isValidating' | 'error' | 'mutate'> {\n  data: Data | undefined;\n  response: AxiosResponse<Data> | undefined;\n}\n\nexport interface Config<Data = unknown, Error = unknown>\n  extends Omit<SWRConfiguration<AxiosResponse<Data>, AxiosError<Error>>, 'fallbackData'> {\n  fallbackData?: Data;\n}\n\nexport default function useRequest<Data = unknown, Error = unknown>(\n  request: GetRequest,\n  { fallbackData, ...config }: Config<Data, Error> = {},\n): Return<Data, Error> {\n  const {\n    data: response,\n    error,\n    isValidating,\n    mutate,\n  } = useSWR<AxiosResponse<Data>, AxiosError<Error>>(\n    request && JSON.stringify(request),\n    /**\n     * NOTE: Typescript thinks `request` can be `null` here, but the fetcher\n     * function is actually only called by `useSWR` when it isn't.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    () => axios.request<Data>(request!),\n    {\n      ...config,\n      fallbackData: fallbackData && {\n        status: 200,\n        statusText: 'InitialData',\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        config: request!,\n        headers: {},\n        data: fallbackData,\n      },\n    },\n  );\n\n  return {\n    data: response && response.data,\n    response,\n    error,\n    isValidating,\n    mutate,\n  };\n}\n","import { RootState } from '../types';\nimport { ICartInitialState, ICartProduct } from './types';\n\n/**\n * @description 스토어에 저장된 cart\n * */\nexport const getCartState = (state: RootState): ICartInitialState => state.cart;\n\nexport const getCheckedCartList = (state: RootState): ICartProduct[] =>\n  state.cart.cart.filter(item => item.checked === true);\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { IProduct } from '../../pages/products/types';\nimport { ICartInitialState, ICartProduct } from './types';\n\n/**\n * @description cart 상태관리\n * */\nconst initialState: ICartInitialState = {\n  cart: [],\n};\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart: (state, action: PayloadAction<IProduct>) => {\n      if (state.cart.some(item => item.item_no === action.payload.item_no)) {\n        state.cart = state.cart.map(item =>\n          item.item_no === action.payload.item_no\n            ? {\n                ...item,\n                amount: ++item.amount,\n              }\n            : item,\n        );\n      } else {\n        state.cart.unshift({ ...action.payload, amount: 1, checked: false });\n      }\n    },\n    removeCart: (state, action: PayloadAction<IProduct>) => {\n      state.cart.map(item => {\n        if (item.item_no === action.payload.item_no) {\n          if (item.amount === 1) return;\n          return {\n            ...item,\n            amount: --item.amount,\n          };\n        }\n      });\n    },\n    deleteCart: (state, action: PayloadAction<IProduct>) => {\n      state.cart = state.cart.filter(item => item.item_no !== action.payload.item_no);\n    },\n    checkedCart: (state, action: PayloadAction<ICartProduct>) => {\n      state.cart = state.cart.map(item => {\n        if (item.item_no === action.payload.item_no) {\n          return {\n            ...item,\n            ...action.payload,\n          };\n        } else {\n          return item;\n        }\n      });\n    },\n    // 초기화\n    reset: () => initialState,\n  },\n});\n\nexport const { setCart, removeCart, deleteCart, checkedCart, reset } = cartSlice.actions;\n\nexport default cartSlice.reducer;\n","import styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw`flex items-center justify-around border-b border-solid border-gray-200`}\n`;\n\nexport const Thumbnail = styled.img`\n  ${tw`w-32 h-32 p-4`}\n`;\n\nexport const Info = styled.div`\n  ${tw`flex items-center justify-between w-full`}\n`;\n\nexport const Name = styled.p`\n  ${tw`flex-grow`}\n  span {\n    ${tw`block text-sm text-red-300`}\n  }\n`;\nexport const Amount = styled.div`\n  ${tw`flex-none flex items-center justify-between px-8`}\n  span {\n    ${tw`w-12.5 text-center`}\n  }\n  button {\n    ${tw`w-8 h-8 cursor-pointer rounded-full border-0 text-xs text-white bg-blue-400 disabled:bg-gray-200 bg-opacity-50 hover:bg-opacity-80 transition ease-in `}\n  }\n`;\nexport const Price = styled.p`\n  ${tw`flex-none w-26`}\n`;\n","import { faMinus, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { ChangeEvent } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { checkedCart, removeCart, setCart } from '../../../store/cart';\nimport { ICartProduct } from '../../../store/cart/types';\nimport { Amount, Container, Info, Name, Price, Thumbnail } from './style';\n\nexport default function Item({ item }: { item: ICartProduct }) {\n  const dispatch = useDispatch();\n  const { item_name: name, detail_image_url: image, availableCoupon, amount, price, checked } = item;\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => dispatch(checkedCart({ ...item, checked: e.target.checked }));\n  const onClickIncrease = () => dispatch(setCart(item));\n  const onClickDecrease = () => dispatch(removeCart(item));\n\n  return (\n    <Container>\n      <input type=\"checkbox\" onChange={onChange} checked={checked} />\n      <Thumbnail src={image} alt={name} />\n      <Info>\n        <Name>\n          {name}\n          {availableCoupon === false && <span>쿠폰 적용 불가 상품</span>}\n        </Name>\n        <Amount>\n          <button onClick={onClickDecrease} disabled={amount === 1}>\n            <FontAwesomeIcon icon={faMinus} />\n          </button>\n          <span>{amount}</span>\n          <button onClick={onClickIncrease}>\n            <FontAwesomeIcon icon={faPlus} />\n          </button>\n        </Amount>\n        <Price>{price.toLocaleString()} 원</Price>\n      </Info>\n    </Container>\n  );\n}\n","import CountUp from 'react-countup';\nimport Select from 'react-select';\nimport styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw`flex flex-col`}\n  height: calc(100vh - 48px)\n`;\n\nexport const CartList = styled.div`\n  ${tw`p-4 m-4 sm:m-8 md:m-12 xl:m-16 border-t-2 border-solid border-black`}\n`;\n\nexport const CartResult = styled.div<{ active: boolean }>`\n  ${tw`sticky bottom-0 flex items-center mt-auto py-4 px-4 sm:px-8 md:px-12 xl:px-16 font-bold text-center text-white bg-opacity-70 transition ease-in`}\n  ${({ active }) => (active ? tw`bg-blue-400 justify-end` : tw`bg-gray-200 justify-center`)}\n`;\n\nexport const EmptyMessage = styled.p`\n  ${tw`text-xl text-gray-800 text-center`}\n`;\n\nexport const CouponList = styled(Select)`\n  ${tw`mx-4 sm:mx-8 md:mx-12 xl:mx-16 mb-4 sm:mb-8 md:mb-12 xl:mb-16`}\n`;\n\nexport const DiscountCountUp = styled(CountUp)`\n  ${tw`text-sm opacity-80`}\n`;\nexport const TotalCountUp = styled(CountUp)`\n  ${tw`ml-4`}\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport useRequest from '../../hooks/useRequest';\nimport { getCartState, getCheckedCartList } from '../../store/cart/selector';\nimport Item from './item';\nimport { CartList, CartResult, Container, CouponList, DiscountCountUp, EmptyMessage, TotalCountUp } from './style';\nimport { IRequest, ISetCoupon } from './types';\n\nexport default function Cart() {\n  const { data } = useRequest<IRequest>({\n    url: '/api/coupons',\n  });\n\n  const { cart } = useSelector(getCartState);\n  const checkedCartList = useSelector(getCheckedCartList);\n  const [coupons, setCoupons] = useState<ISetCoupon[]>([]);\n  const [selectedCoupons, setSelectedCoupons] = useState<ISetCoupon>();\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [discountPrice, setDiscountPrice] = useState(0);\n\n  const onChangeCoupon = (option: unknown) => setSelectedCoupons(option as ISetCoupon);\n\n  useEffect(() => {\n    if (data) {\n      setCoupons(\n        [...data.coupons.data].map(item => ({\n          value: item.type === 'amount' ? item.discountAmount : item.discountRate,\n          label: item.title,\n          type: item.type,\n        })),\n      );\n    }\n  }, [data]);\n\n  useEffect(() => {\n    const possible = checkedCartList.filter(item => item.availableCoupon !== false);\n    const impossible = checkedCartList.filter(item => item.availableCoupon === false);\n    const possiblePrice = possible.reduce((acc, obj) => acc + obj.price * obj.amount, 0);\n    const impossiblePrice = impossible.reduce((acc, obj) => acc + obj.price * obj.amount, 0);\n\n    if (selectedCoupons && selectedCoupons.value) {\n      const discount =\n        selectedCoupons.type === 'amount' ? selectedCoupons.value : (possiblePrice * selectedCoupons.value) / 100;\n\n      setDiscountPrice(possiblePrice ? discount : 0);\n      setTotalPrice(possiblePrice ? possiblePrice - discount + impossiblePrice : impossiblePrice);\n    } else {\n      setTotalPrice(possiblePrice + impossiblePrice);\n    }\n  }, [selectedCoupons, checkedCartList]);\n\n  return (\n    <Container>\n      <CartList>\n        {!cart.length && <EmptyMessage>장바구니가 비어있습니다.</EmptyMessage>}\n        {cart.map(item => (\n          <Item key={item.item_no} item={item} />\n        ))}\n      </CartList>\n\n      <CouponList\n        placeholder={'쿠폰을 선택해주세요.'}\n        value={selectedCoupons}\n        onChange={onChangeCoupon}\n        options={coupons}\n      />\n      <CartResult active={!!checkedCartList.length}>\n        {totalPrice ? (\n          <>\n            {!!discountPrice && (\n              <DiscountCountUp end={discountPrice} duration={0.25} prefix={'할인 : '} suffix={'원'} separator={','} />\n            )}\n            <TotalCountUp end={totalPrice} duration={0.25} prefix={'총 금액 : '} suffix={'원'} separator={','} />\n          </>\n        ) : (\n          '상품을 선택해주세요.'\n        )}\n      </CartResult>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw``}\n`;\n\nexport const Header = styled.header`\n  ${tw`flex justify-center h-12 py-4 bg-black`}\n\n  a {\n    ${tw`mx-4 font-bold text-white no-underline hover:underline`}\n  }\n`;\n","import React, { ReactNode } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Container, Header } from './style';\n\nexport default function Layout({ children }: { children: ReactNode }) {\n  return (\n    <Container>\n      <Header>\n        <Link to={'/products'} children={'Products'} />\n        <Link to={'/cart'} children={'Cart'} />\n      </Header>\n      {children}\n    </Container>\n  );\n}\n","import React from 'react';\n\nimport Cart from '../../components/cart';\nimport Layout from '../../components/layout';\n\nexport default function CartPage() {\n  return (\n    <Layout>\n      <Cart />\n    </Layout>\n  );\n}\n","import React from 'react';\n\nexport default function NotFoundPage() {\n  return <div>NotFound</div>;\n}\n","import styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw`flex space-x-2 justify-center`}\n\n  button {\n    ${tw`w-10 h-10 cursor-pointer rounded-full border-0 text-xs hover:bg-gray-200 disabled:text-white disabled:font-bold disabled:bg-blue-400 disabled:bg-opacity-80  transition ease-in`}\n  }\n`;\n","import { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\n\nimport { Container } from './style';\nimport { IPagination } from './types';\n\nexport default function Pagination({ setCurrentPage, currentPage, lastPage }: IPagination) {\n  if (!lastPage) return null;\n  const page = Array.from(Array(lastPage).keys()).map(index => index + 1);\n\n  const onClickNext = () => {\n    if (currentPage === lastPage) return;\n    setCurrentPage(prev => prev + 1);\n  };\n\n  const onClickPrev = () => {\n    if (currentPage === 1) return;\n    setCurrentPage(prev => prev - 1);\n  };\n\n  return (\n    <Container>\n      <button onClick={onClickPrev}>\n        <FontAwesomeIcon icon={faAngleLeft} />\n      </button>\n      {page.map(item => (\n        <button key={item} disabled={currentPage === item} onClick={() => setCurrentPage(item)}>\n          {item}\n        </button>\n      ))}\n      <button onClick={onClickNext}>\n        <FontAwesomeIcon icon={faAngleRight} />\n      </button>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw`relative overflow-hidden rounded-md bg-white border border-solid border-grayColor border-opacity-20`}\n  line-height: 0;\n  &:hover {\n    img {\n      transform: scale(1.05);\n    }\n  }\n`;\n\nexport const Thumbnail = styled.div`\n  ${tw`overflow-hidden`}\n  height: 200px;\n\n  img {\n    ${tw` w-full object-cover transition ease-in`}\n    height: 200px;\n  }\n`;\n\nexport const Info = styled.div`\n  ${tw`p-4`}\n`;\nexport const Name = styled.p`\n  ${tw`h-15 text-sm leading-5`}\n`;\n\nexport const Price = styled.p`\n  ${tw`flex`}\n  span {\n    //font-bold text-lg\n    //ml-0.5 text-sm\n    ${tw``}\n  }\n`;\n\nexport const CarButtonWrap = styled.div`\n  ${tw`absolute top-1/2 right-4`}\n  transform: translateY(-50%);\n\n  button {\n    ${tw`w-10 h-10 cursor-pointer rounded-full border-0 text-xs text-white bg-blue-400 bg-opacity-50 hover:bg-opacity-80 transition ease-in`}\n    span {\n      ${tw`ml-0.5 font-bold`}\n    }\n  }\n`;\n","import { faMinus, faPlus, faShoppingCart } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { deleteCart, removeCart, setCart } from '../../../store/cart';\nimport { getCartState } from '../../../store/cart/selector';\nimport { CarButtonWrap, Container, Info, Name, Price, Thumbnail } from './style';\nimport { IProduct } from './types';\n\nexport default function Product({ item }: IProduct) {\n  const dispatch = useDispatch();\n  const { cart: storeCart } = useSelector(getCartState);\n  const { item_name: name, detail_image_url: image, price } = item;\n\n  const isCart = storeCart.some(cart => cart.item_no === item.item_no);\n  const cartItemAmount = storeCart.filter(cart => cart.item_no === item.item_no)[0]?.amount;\n\n  const onClickSetCart = () => dispatch(setCart(item));\n  const onClickRemoveCart = () => (cartItemAmount === 1 ? dispatch(deleteCart(item)) : dispatch(removeCart(item)));\n\n  return (\n    <Container>\n      <Thumbnail>\n        <img src={image} alt={name} />\n      </Thumbnail>\n      <Info>\n        <Name>{name}</Name>\n        <Price>\n          <span>{price.toLocaleString()}</span>\n          <span>원</span>\n        </Price>\n      </Info>\n      <CarButtonWrap>\n        {isCart && (\n          <button onClick={onClickRemoveCart}>\n            <FontAwesomeIcon icon={faMinus} />\n          </button>\n        )}\n        <button onClick={onClickSetCart}>\n          {isCart ? (\n            <>\n              <FontAwesomeIcon icon={faPlus} />\n              <span>{cartItemAmount}</span>\n            </>\n          ) : (\n            <FontAwesomeIcon icon={faShoppingCart} />\n          )}\n        </button>\n      </CarButtonWrap>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport tw from 'twin.macro';\n\nexport const Container = styled.div`\n  ${tw`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 md:gap-4 p-4 sm:p-8 md:p-12 xl:p-16`}\n`;\n","import React from 'react';\n\nimport Product from './product';\nimport { Container } from './style';\nimport { IProducts } from './types';\n\nexport default function Products({ data }: IProducts) {\n  return (\n    <Container>\n      {data.map(item => (\n        <Product key={item.item_no} item={item} />\n      ))}\n    </Container>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport Layout from '../../components/layout';\nimport Pagination from '../../components/pagination';\nimport Products from '../../components/products';\nimport { NUMBER_PER_PAGE } from '../../constants';\nimport useRequest from '../../hooks/useRequest';\nimport { IProduct, IRequest } from './types';\n\nexport default function ProductsPage() {\n  const { data } = useRequest<IRequest>({\n    url: '/api/products',\n  });\n\n  const [products, setProducts] = useState<IProduct[]>([]);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const lastPageRef = useRef<null | number>(null);\n\n  useEffect(() => {\n    if (data) {\n      lastPageRef.current = Math.ceil(data.products.data.length / NUMBER_PER_PAGE);\n      const sortData: IProduct[] = [...data.products.data].sort((a, b) => {\n        if (b.score > a.score) return 1;\n        if (b.score < a.score) return -1;\n        return 0;\n      });\n      const indexOfLast = currentPage * NUMBER_PER_PAGE;\n      const indexOfFirst = indexOfLast - NUMBER_PER_PAGE;\n      setProducts(sortData.slice(indexOfFirst, indexOfLast));\n    }\n  }, [currentPage, data]);\n\n  return (\n    <Layout>\n      <Products data={products} />\n      <Pagination setCurrentPage={setCurrentPage} currentPage={currentPage} lastPage={lastPageRef.current} />\n    </Layout>\n  );\n}\n","export const NUMBER_PER_PAGE = 5;\n","import React from 'react';\nimport { BrowserRouter as Router, Navigate, Route, Routes as Switch } from 'react-router-dom';\n\nimport CartPage from '../pages/cart';\nimport NotFoundPage from '../pages/notFound';\nimport ProductsPage from '../pages/products';\n\nconst ROUTES = [\n  { path: '/products', component: <ProductsPage /> },\n  { path: '/cart', component: <CartPage /> },\n];\n\nexport default function Routes() {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route path=\"/\" element={<Navigate replace to=\"/products\" />} />\n          {ROUTES.map(route => (\n            <Route key={route.path} path={route.path} element={route.component} />\n          ))}\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n","import React from 'react';\n\nimport Routes from './routes';\n\nfunction App() {\n  return <Routes />;\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\n\nimport cart from './cart';\n\nconst rootReducer = combineReducers({\n  cart,\n});\n\nexport default rootReducer;\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","import { configureStore as startKitConfigureStore, EnhancedStore } from '@reduxjs/toolkit';\nimport { enhancer as StorybookAddonEnhancer } from 'addon-redux';\n\nimport rootReducer from './rootReducer';\n\nconst configureStore = (): EnhancedStore => {\n  const store = startKitConfigureStore({\n    reducer: rootReducer,\n    enhancers: [StorybookAddonEnhancer],\n    devTools: process.env.NODE_ENV !== 'production',\n  });\n\n  return store;\n};\n\nexport default configureStore;\n","import { createGlobalStyle } from 'styled-components';\nimport reset from 'styled-reset';\nimport tw from 'twin.macro';\n\nexport const GlobalStyle = createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@200;300;400;500;600;700&display=swap');\n  :lang(ko){\n    font-family: 'IBM Plex Sans KR', sans-serif;\n  }\n  ${reset}\n\n  * {\n    ${tw`break-words antialiased`}\n    word-break :keep-all;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    ${tw`bg-backgroundColor bg-opacity-50 h-screen`}\n  }\n  #root {\n   ${tw`h-full`} \n  }\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { worker } from './__mock/browser';\nimport App from './App';\nimport store from './store';\nimport { GlobalStyle } from './style';\n\nif (process.env.NODE_ENV === 'development') {\n  void worker.start();\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <GlobalStyle />\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}